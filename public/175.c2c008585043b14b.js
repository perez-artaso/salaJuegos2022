"use strict";(self.webpackChunksala_juegos_2022=self.webpackChunksala_juegos_2022||[]).push([[175],{3175:(U,h,s)=>{s.r(h),s.d(h,{SurveyModule:()=>I});var c=s(6895),g=s(7001),o=s(433);class p{constructor(l,r,n,u,a,i,m,d){this.id="",this.user_id=l,this.name=n,this.last_name=u,this.phone_number=a,this.favourite_game=i,this.gender=m,this.played_all_games=d,this.timestamp=r}getLiteralObjectRepresentation(){return{user_id:this.user_id,timestamp:this.timestamp,name:this.name,last_name:this.last_name,phone_number:this.phone_number,favourite_game:this.favourite_game,gender:this.gender,played_all_games:this.played_all_games}}}var e=s(4650),_=s(7566);let f=(()=>{class t{constructor(r){this.firestore=r,this.collectionPath="/surveys",this.surveysCollection=r.collection(this.collectionPath)}getDocuments(){return this.surveysCollection.valueChanges({idField:"id"})}addDocument(r){return this.surveysCollection.add(r)}updateDocument(r,n){return this.surveysCollection.doc(r).update(n)}deleteDocument(r){return this.surveysCollection.doc(r).delete()}}return t.\u0275fac=function(r){return new(r||t)(e.LFG(_.ST))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var y=s(2557);function Z(t,l){1&t&&(e.TgZ(0,"div"),e._uU(1,"El nombre es requerido"),e.qZA())}function F(t,l){1&t&&(e.TgZ(0,"div"),e._uU(1,"El apellido es requerido"),e.qZA())}function C(t,l){1&t&&(e.TgZ(0,"div"),e._uU(1,"El tel\xe9fono es requerido"),e.qZA())}function T(t,l){1&t&&(e.TgZ(0,"div"),e._uU(1,"El tel\xe9fono s\xf3lo puede contener n\xfameros"),e.qZA())}function S(t,l){1&t&&(e.TgZ(0,"div"),e._uU(1,"El tel\xe9fono no puede exceder los diez caracteres"),e.qZA())}function b(t,l){1&t&&(e.TgZ(0,"div"),e._uU(1,"Seleccione un juego favorito"),e.qZA())}function q(t,l){if(1&t&&(e.TgZ(0,"div",30),e.YNc(1,Z,2,0,"div",31),e.YNc(2,F,2,0,"div",31),e.YNc(3,C,2,0,"div",31),e.YNc(4,T,2,0,"div",31),e.YNc(5,S,2,0,"div",31),e.YNc(6,b,2,0,"div",31),e.qZA()),2&t){const r=e.oxw();let n,u,a,i,m,d;e.xp6(1),e.Q6J("ngIf",(null==(n=r.surveyForm.get("name"))?null:n.touched)&&(null==(n=r.surveyForm.get("name"))?null:n.hasError("required"))),e.xp6(1),e.Q6J("ngIf",(null==(u=r.surveyForm.get("last_name"))?null:u.touched)&&(null==(u=r.surveyForm.get("last_name"))?null:u.hasError("required"))),e.xp6(1),e.Q6J("ngIf",(null==(a=r.surveyForm.get("phone_number"))?null:a.touched)&&(null==(a=r.surveyForm.get("phone_number"))?null:a.hasError("required"))),e.xp6(1),e.Q6J("ngIf",(null==(i=r.surveyForm.get("phone_number"))?null:i.touched)&&(null==(i=r.surveyForm.get("phone_number"))?null:i.hasError("pattern"))),e.xp6(1),e.Q6J("ngIf",(null==(m=r.surveyForm.get("phone_number"))?null:m.touched)&&(null==(m=r.surveyForm.get("phone_number"))?null:m.hasError("maxlength"))),e.xp6(1),e.Q6J("ngIf",(null==(d=r.surveyForm.get("favourite_game"))?null:d.touched)&&(null==(d=r.surveyForm.get("favourite_game"))?null:d.hasError("valid_favourite_game")))}}const v=function(t){return{"is-invalid":t}},k=[{path:"",children:[{path:"",component:(()=>{class t{constructor(r,n,u){this.surveyService=r,this.auth=n,this.router=u,this.surveyForm=new o.cw({name:new o.NI("",o.kI.required),last_name:new o.NI("",o.kI.required),phone_number:new o.NI("",o.kI.compose([o.kI.required,o.kI.maxLength(10),o.kI.pattern(/^[0-9]+$/)])),favourite_game:new o.NI("unselected",o.kI.compose([o.kI.required,this.valid_favourite_game])),gender:new o.NI("other",o.kI.required),played_all_games:new o.NI(!1)})}ngOnInit(){}SendSurvey(){this.surveyForm.valid?this.surveyService.addDocument(new p(this.auth.GetCurrentUserID(),Date.now().toString(),this.surveyForm.get("name")?.value,this.surveyForm.get("last_name")?.value,this.surveyForm.get("phone_number")?.value,this.surveyForm.get("favourite_game")?.value,this.surveyForm.get("gender")?.value,this.surveyForm.get("played_all_games")?.value).getLiteralObjectRepresentation()).then(()=>this.router.navigate(["/home"])):this.surveyForm.markAllAsTouched()}valid_favourite_game(r){return"unselected"==r.value?{valid_favourite_game:!0}:null}allHasBeenTouched(){return this.surveyForm.get("name")?.touched&&this.surveyForm.get("last_name")?.touched&&this.surveyForm.get("phone_number")?.touched&&this.surveyForm.get("favourite_game")?.touched&&this.surveyForm.get("gender")?.touched&&this.surveyForm.get("played_all_games")?.touched}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(f),e.Y36(y.e),e.Y36(g.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-survey"]],decls:49,vars:14,consts:[[1,"container","mt-5"],[3,"formGroup"],[1,"row"],[1,"col"],["formControlName","name","type","text","placeholder","Nombre",1,"form-control",3,"ngClass"],["formControlName","last_name","type","text","placeholder","Apellido",1,"form-control",3,"ngClass"],[1,"row","mt-3"],["formControlName","phone_number","type","text","placeholder","Tel\xe9fono",1,"form-control",3,"ngClass"],[1,"form-group"],["formControlName","favourite_game","id","favourite-game",1,"form-control",3,"ngClass"],["value","unselected","selected",""],["value","ahorcado"],["value","banderas"],["value","mom"],["value","camino"],[1,"row","mt-4"],["for","gender-radio"],["id","gender-radio",1,"form-check","form-check-inline","mt-1"],["formControlName","gender","type","radio","name","gender","id","maleOption","value","male",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],[1,"form-check","form-check-inline"],["formControlName","gender","type","radio","name","gender","id","femaleOption","value","female",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["formControlName","gender","type","radio","name","gender","id","otherOption","value","other","checked","",1,"form-check-input"],["for","inlineRadio3",1,"form-check-label"],[1,"form-check"],["formControlName","played_all_games","type","checkbox","value","played-all-games","id","played-all-games",1,"form-check-input"],["for","defaultCheck1",1,"form-check-label"],[1,"btn","btn-lg","btn-primary","btn-block","mt-4",2,"width","100%",3,"click"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[4,"ngIf"]],template:function(r,n){if(1&r&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),e._UZ(4,"input",4),e.qZA(),e.TgZ(5,"div",3),e._UZ(6,"input",5),e.qZA()(),e.TgZ(7,"div",6)(8,"div",3),e._UZ(9,"input",7),e.qZA(),e.TgZ(10,"div",3)(11,"div",8)(12,"select",9)(13,"option",10),e._uU(14,"Juego Favorito"),e.qZA(),e.TgZ(15,"option",11),e._uU(16,"Ahorcado"),e.qZA(),e.TgZ(17,"option",12),e._uU(18,"Banderas"),e.qZA(),e.TgZ(19,"option",13),e._uU(20,"Mayor o menor"),e.qZA(),e.TgZ(21,"option",14),e._uU(22,"El camino"),e.qZA()()()()(),e.TgZ(23,"div",15)(24,"div",3)(25,"label",16),e._uU(26,"G\xe9nero"),e.qZA(),e._UZ(27,"br"),e.TgZ(28,"div",17),e._UZ(29,"input",18),e.TgZ(30,"label",19),e._uU(31,"Masculino"),e.qZA()(),e.TgZ(32,"div",20),e._UZ(33,"input",21),e.TgZ(34,"label",22),e._uU(35,"Femenino"),e.qZA()(),e.TgZ(36,"div",20),e._UZ(37,"input",23),e.TgZ(38,"label",24),e._uU(39,"Otro"),e.qZA()()()(),e.TgZ(40,"div",15)(41,"div",3)(42,"div",25),e._UZ(43,"input",26),e.TgZ(44,"label",27),e._uU(45," He jugado a todos los juegos "),e.qZA()()()()(),e.TgZ(46,"button",28),e.NdJ("click",function(){return n.SendSurvey()}),e._uU(47,"Enviar"),e.qZA(),e.YNc(48,q,7,6,"div",29),e.qZA()),2&r){let u,a,i,m;e.xp6(1),e.Q6J("formGroup",n.surveyForm),e.xp6(3),e.Q6J("ngClass",e.VKq(6,v,(null==(u=n.surveyForm.get("name"))?null:u.invalid)&&(null==(u=n.surveyForm.get("name"))?null:u.touched))),e.xp6(2),e.Q6J("ngClass",e.VKq(8,v,(null==(a=n.surveyForm.get("last_name"))?null:a.invalid)&&(null==(a=n.surveyForm.get("last_name"))?null:a.touched))),e.xp6(3),e.Q6J("ngClass",e.VKq(10,v,(null==(i=n.surveyForm.get("phone_number"))?null:i.invalid)&&(null==(i=n.surveyForm.get("phone_number"))?null:i.touched))),e.xp6(3),e.Q6J("ngClass",e.VKq(12,v,(null==(m=n.surveyForm.get("favourite_game"))?null:m.invalid)&&(null==(m=n.surveyForm.get("favourite_game"))?null:m.touched))),e.xp6(36),e.Q6J("ngIf",n.surveyForm.invalid&&n.surveyForm.touched&&n.allHasBeenTouched())}},dependencies:[c.mk,c.O5,o._Y,o.YN,o.Kr,o.Fj,o.Wl,o.EJ,o._,o.JJ,o.JL,o.sg,o.u]}),t})()}]}];let A=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.Bz.forChild(k),g.Bz]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,A,o.UX]}),t})()}}]);